{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/solomon/Desktop/projects/user-management/frontend-user-management/src/lib/utils/axios.instance.ts"],"sourcesContent":["import axios from \"axios\"\n\n\n// console.log(\"API:\", process.env.NEXT_PUBLIC_API_URL)\nconst API = axios.create({\n    baseURL: \"http://localhost:3000\",\n    // cookes are sent with requests if needed\n    // withCredentials: true,\n});\n\nAPI.interceptors.response.use(\n    (response) => response.data,\n    (error) => {\n        if (error.response) {\n            // console.error(\"error from backend:\", error.response.data);\n            return Promise.reject(error.response.data);\n        }\n        console.error(\"network error:\", error.message);\n        return Promise.reject({ message: \"Network error, plaese try again later\" });\n    }\n);\n\nexport default API;"],"names":[],"mappings":";;;AAAA;;AAGA,uDAAuD;AACvD,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,SAAS;AAGb;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,SAAS,IAAI,EAC3B,CAAC;IACG,IAAI,MAAM,QAAQ,EAAE;QAChB,6DAA6D;QAC7D,OAAO,QAAQ,MAAM,CAAC,MAAM,QAAQ,CAAC,IAAI;IAC7C;IACA,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;IAC7C,OAAO,QAAQ,MAAM,CAAC;QAAE,SAAS;IAAwC;AAC7E;uCAGW","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///home/solomon/Desktop/projects/user-management/frontend-user-management/src/store/user.store.ts"],"sourcesContent":["import { User } from \"@/types/user.types\";\nimport { create } from \"zustand\";\n\ninterface UserStore {\n    user: Partial<User> | null\n    setUser: (user: Partial<User>) => void\n    resetUser: () => void\n}\n\nexport const useUserStore = create<UserStore>((set) => ({\n    user: null,\n    setUser: (user) => set({ user }),\n    resetUser: () => set({ user: null })\n}));\n"],"names":[],"mappings":";;;AACA;;AAQO,MAAM,eAAe,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,EAAa,CAAC,MAAQ,CAAC;QACpD,MAAM;QACN,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAC9B,WAAW,IAAM,IAAI;gBAAE,MAAM;YAAK;IACtC,CAAC","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///home/solomon/Desktop/projects/user-management/frontend-user-management/src/lib/utils/hooks/user.mutations.hooks.ts"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport API from \"../axios.instance\";\nimport { User } from \"@/types/user.types\";\nimport { useUserStore } from \"@/store/user.store\";\n\n\n\n// sign up hook \nexport const useCreateUser = () => {\n    const queryClient = useQueryClient();\n    // reset user store after api calls\n    const { resetUser } = useUserStore()\n    return useMutation({\n        mutationFn: async (credential: User) => {\n            const res = await API.post(\"/user/signup\", credential);\n            return res.data;\n        },\n        // on success save user to zustand and save token to cookie using nookies\n        onSuccess: (data) => {\n            queryClient.invalidateQueries({ queryKey: [\"users\"] });\n            resetUser()\n            console.log(data);\n        },\n        onError: (error) => {\n            console.log(\"sign up failed:\", error);\n        }\n    })\n}\n\n// update user hook\nexport const useUpdateUser = () => {\n    const queryClient = useQueryClient();\n    // reset user store after api calls\n    const { resetUser } = useUserStore()\n    return useMutation({\n        mutationFn: async ({ id, user }: { id: string; user: Partial<User> }) => {\n            const res = await API.patch(`/user/update/${id}`, user);\n            return res.data;\n        },\n        // on success refresh tanstack query cache and reset user store\n        onSuccess: (data) => {\n            queryClient.invalidateQueries({ queryKey: [\"users\"] });\n            resetUser()\n            console.log(data);\n        },\n        onError: (error) => {\n            console.log(\"sign up failed:\", error);\n        }\n    })\n}\n\n\n// delete user hook\nexport const useDeleteUser = () => {\n    const queryClient = useQueryClient();\n    // reset user store after api calls\n    const { resetUser } = useUserStore()\n    return useMutation({\n        mutationFn: async ({ id }: { id: string}) => {\n            const res = await API.patch(`/user/update/${id}`);\n        },\n        // on success refresh tanstack query cache and reset user store\n        onSuccess: (data) => {\n            queryClient.invalidateQueries({ queryKey: [\"users\"] });\n            resetUser()\n            console.log(data);\n        },\n        onError: (error) => {\n            console.log(\"sign up failed:\", error);\n        }\n    })\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAEA;;;;;AAKO,MAAM,gBAAgB;;IACzB,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,mCAAmC;IACnC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACf,UAAU;yCAAE,OAAO;gBACf,MAAM,MAAM,MAAM,2IAAA,CAAA,UAAG,CAAC,IAAI,CAAC,gBAAgB;gBAC3C,OAAO,IAAI,IAAI;YACnB;;QACA,yEAAyE;QACzE,SAAS;yCAAE,CAAC;gBACR,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBACpD;gBACA,QAAQ,GAAG,CAAC;YAChB;;QACA,OAAO;yCAAE,CAAC;gBACN,QAAQ,GAAG,CAAC,mBAAmB;YACnC;;IACJ;AACJ;GAnBa;;QACW,yLAAA,CAAA,iBAAc;QAEZ,gIAAA,CAAA,eAAY;QAC3B,iLAAA,CAAA,cAAW;;;AAkBf,MAAM,gBAAgB;;IACzB,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,mCAAmC;IACnC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACf,UAAU;yCAAE,OAAO,EAAE,EAAE,EAAE,IAAI,EAAuC;gBAChE,MAAM,MAAM,MAAM,2IAAA,CAAA,UAAG,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE;gBAClD,OAAO,IAAI,IAAI;YACnB;;QACA,+DAA+D;QAC/D,SAAS;yCAAE,CAAC;gBACR,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBACpD;gBACA,QAAQ,GAAG,CAAC;YAChB;;QACA,OAAO;yCAAE,CAAC;gBACN,QAAQ,GAAG,CAAC,mBAAmB;YACnC;;IACJ;AACJ;IAnBa;;QACW,yLAAA,CAAA,iBAAc;QAEZ,gIAAA,CAAA,eAAY;QAC3B,iLAAA,CAAA,cAAW;;;AAmBf,MAAM,gBAAgB;;IACzB,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,mCAAmC;IACnC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACf,UAAU;yCAAE,OAAO,EAAE,EAAE,EAAiB;gBACpC,MAAM,MAAM,MAAM,2IAAA,CAAA,UAAG,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,IAAI;YACpD;;QACA,+DAA+D;QAC/D,SAAS;yCAAE,CAAC;gBACR,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBACpD;gBACA,QAAQ,GAAG,CAAC;YAChB;;QACA,OAAO;yCAAE,CAAC;gBACN,QAAQ,GAAG,CAAC,mBAAmB;YACnC;;IACJ;AACJ;IAlBa;;QACW,yLAAA,CAAA,iBAAc;QAEZ,gIAAA,CAAA,eAAY;QAC3B,iLAAA,CAAA,cAAW","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/solomon/Desktop/projects/user-management/frontend-user-management/src/components/multiStepForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCreateUser } from \"@/lib/utils/hooks/user.mutations.hooks\";\nimport { useUserStore } from \"@/store/user.store\";\nimport {\n  User,\n  UserAcademic,\n  UserAddress,\n  UserContact,\n  UserInfo,\n} from \"@/types/user.types\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nconst steps = [\n  \"User Info\",\n  \"Contact Info\",\n  \"Address\",\n  \"Academic Background\",\n  \"Review\",\n];\n\nexport default function MultiStepForm() {\n  const { user, setUser } = useUserStore();\n  const [step, setStep] = useState(0);\n  const { register, handleSubmit, watch, getValues } = useForm<User>({\n    defaultValues: user ?? {},\n  });\n\n  //   create mutation\n  const createMutation = useCreateUser();\n\n  const onSubmit = (data: User) => {\n    setUser(data);\n    if (step < steps.length - 1) {\n      setStep(step + 1);\n    } else {\n      // createMutation.mutate(data);\n      console.log(data);\n      // alert(\"User added successfully!\");\n    }\n  };\n\n  return (\n    <div className=\"w-lg mx-auto p-6 shadow-md rounded-md flex flex-col justify-center items-center gap-4\">\n      <h2 className=\"text-xl font-bold\">{steps[step]}</h2>\n\n      <form\n        onSubmit={handleSubmit(onSubmit)}\n        className=\"flex flex-col gap-[15px]\"\n      >\n        {step === 0 && (\n          <>\n            {/* user info step of the form  */}\n            <div>\n              <label>First Name</label>\n              <input {...register(\"userInfo.firstName\", { required: true })} />\n            </div>\n\n            <div>\n              <label>Last Name</label>\n              <input {...register(\"userInfo.lastName\", { required: true })} />\n            </div>\n            <div>\n              <label>Date of birth</label>\n              <input\n                {...register(\"userInfo.dob\", { required: true })}\n                type=\"date\"\n              />\n            </div>\n            <div>\n              <label>Occupation</label>\n              <input {...register(\"userInfo.occupation\", { required: true })} />\n            </div>\n            <div>\n              <label>Gender</label>\n              <select {...register(\"userInfo.gender\", { required: true })}>\n                <option value=\"\">Select Gender</option>\n                <option value=\"Male\">Male</option>\n                <option value=\"Female\">Female</option>\n              </select>\n            </div>\n          </>\n        )}\n\n        {step === 1 && (\n          <>\n            {/* user contact step of the form  */}\n\n            <div>\n              <label>Email</label>\n              <input\n                {...register(\"userContact.email\", { required: true })}\n                type=\"email\"\n              />\n            </div>\n            <div>\n              <label>Phone</label>\n              <input\n                {...register(\"userContact.phoneNumber\", { required: true })}\n                type=\"tel\"\n              />\n            </div>\n            <div>\n              <label>Fax</label>\n              <input {...register(\"userContact.fax\")} />\n            </div>\n            <div>\n              <label>LinkedIn URL</label>\n              <input {...register(\"userContact.linkedinUrl\")} />\n            </div>\n          </>\n        )}\n\n        {step === 2 && (\n          <>\n            {/* user address step of the form  */}\n\n            <div>\n              <label>Address</label>\n              <input {...register(\"userAddress.address\", { required: true })} />\n            </div>\n            <div>\n              <label>City</label>\n              <input {...register(\"userAddress.city\", { required: true })} />\n            </div>\n            <div>\n              <label>State</label>\n              <input {...register(\"userAddress.state\", { required: true })} />\n            </div>\n            <div>\n              <label>Zip Code</label>\n              <input {...register(\"userAddress.zipCode\", { required: true })} />\n            </div>\n            <div>\n              <label>Country</label>\n              <input {...register(\"userAddress.country\", { required: true })} />\n            </div>\n          </>\n        )}\n\n        {step === 3 && (\n          <>\n            {/* user academics step of the form  */}\n\n            <div className=\" flex-col flex \">\n              <label>Past Schools</label>\n              <textarea\n                {...register(\"userAcademic.pastSchools\")}\n                className=\" h-28\"\n              />\n            </div>\n          </>\n        )}\n        {/* user review step of the form  */}\n\n        {step === 4 && (\n          <div className=\"p-4 text-blue-600 rounded-md \">\n            <p className=\"capitalize\">\n              <strong>Name:</strong> {watch(\"userInfo.firstName\")}{\" \"}\n              {watch(\"userInfo.lastName\")}\n            </p>\n            <p>\n              <strong>Email:</strong> {watch(\"userContact.email\")}\n            </p>\n            <p>\n              <strong>Phone:</strong> {watch(\"userContact.phoneNumber\")}\n            </p>\n            <p>\n              <strong>Address:</strong> {watch(\"userAddress.address\")},\n              {watch(\"userAddress.city\")}, {watch(\"userAddress.state\")}\n            </p>\n            <p>\n              <strong>Education:</strong> {watch(\"userAcademic.pastSchools\")}\n            </p>\n          </div>\n        )}\n\n        <div className=\"flex justify-between\">\n          {step > 0 && (\n            <button\n              type=\"button\"\n              onClick={() => setStep(step - 1)}\n              className=\"px-4 py-2 bg-blue-400 text-white rounded-md cursor-pointer\"\n            >\n              Back\n            </button>\n          )}\n\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer\"\n          >\n            {step < steps.length - 1 ? \"Next\" : \"Submit\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}